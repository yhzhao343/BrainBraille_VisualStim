{
  "version": 3,
  "sources": ["color_scheme.ts", "configs_and_consts.ts", "index.ts"],
  "sourcesContent": ["export const PRIMARY_COLOR = \"#6200EE\"\nexport const PRIMARY_VARIANT_1_COLOR = \"#3700B3\"\nexport const PRIMARY_VARIANT_2_COLOR = \"#BB86FC\"\nexport const SECONDARY_COLOR = \"#02dac2\"\nexport const SECONDARY_VARIANT_1_COLOR = \"#018786\"\nexport const SECONDARY_VARIANT_2_COLOR = \"#008886\"\nexport const ERROR_COLOR = \"#B00020\"", "import {\n  BBDictionary,\n  PhraseWordNum,\n  StartConfig,\n  StimTaskIntSetting,\n  SVGObjStyle,\n  TaskInfo,\n  XYCoord,\n} from \"./interfaces\"\n\nimport {\n  PRIMARY_COLOR,\n  PRIMARY_VARIANT_1_COLOR,\n  PRIMARY_VARIANT_2_COLOR,\n  SECONDARY_COLOR,\n  SECONDARY_VARIANT_1_COLOR,\n  SECONDARY_VARIANT_2_COLOR,\n  ERROR_COLOR,\n} from \"./color_scheme\"\n\n\nexport function openFullscreen() {\n  let elem = document.documentElement;\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  } else if ((elem as any).webkitRequestFullscreen) { /* Safari */\n    (elem as any).webkitRequestFullscreen();\n  } else if ((elem as any).msRequestFullscreen) { /* IE11 */\n    (elem as any).msRequestFullscreen();\n  }\n}\n\nexport function closeFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) { /* Safari */\n    (document as any).webkitExitFullscreen();\n  } else if ((document as any).msExitFullscreen) { /* IE11 */\n    (document as any).msExitFullscreen();\n  }\n}\n\nexport function getDefaultStartConfig(): StartConfig {\n  return {\n    mode: \"Study\",\n    interval: \"3s\",\n    TR: \"750ms\",\n    start_delay_s: 5,\n  }\n}\n\nexport const CURR_BODY_SVG_STYLE: SVGObjStyle = {\n  stroke: \"#000000\",\n  fill: \"none\",\n  \"stroke-width\": 1.5,\n}\n\nexport const NEXT_BODY_SVG_STYLE: SVGObjStyle = {\n  stroke: \"#b5b5b5\",\n  fill: \"none\",\n  \"stroke-width\": 1.5,\n}\n\nexport function deepcopy(obj: Object) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport const BB_3s: StimTaskIntSetting = {\n  expected_task_interval_s: 3,\n  expected_TR_s: 0.75,\n  front_space_padding_s: 6,\n  back_space_padding_s: 12,\n  num_space_between_words: 1,\n  num_space_between_sents: 2,\n}\n\nexport const BB_1s5: StimTaskIntSetting = {\n  expected_task_interval_s: 1.5,\n  expected_TR_s: 0.75,\n  front_space_padding_s: 6,\n  back_space_padding_s: 12,\n  num_space_between_words: 2,\n  num_space_between_sents: 3,\n}\n\nexport function shuffle(arr_in: any[], inplace: boolean = false) {\n  let arr: any[]\n  if (inplace) {\n    arr = arr_in\n  } else {\n    arr = JSON.parse(JSON.stringify(arr_in));\n  }\n  for (let i = arr.length - 1; i >= 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n  }\n  return arr\n}\n\nexport let STIM_PHASE_SET: string[][] = [\n  [\"do\", \"not\", \"worry\", \"about\", \"this\"],\n  [\"the\", \"dog\", \"will\", \"bite\", \"you\"],\n  [\"time\", \"to\", \"go\", \"shopping\"],\n  [\"are\", \"you\", \"talking\", \"to\", \"me\"],\n  [\"these\", \"cookies\", \"are\", \"so\", \"amazing\"],\n  [\"want\", \"to\", \"join\", \"us\", \"for\", \"lunch\"],\n  [\"quick\", \"there\", \"is\", \"someone\", \"knocking\"],\n  [\"have\", \"a\", \"good\", \"weekend\"],\n  [\"tickets\", \"are\", \"very\", \"expensive\"]\n]\n\ntype StyleObj = SVGObjStyle;\n\nexport function obj_to_style_str(obj: Object) {\n  const str_list: string[] = [];\n  for (const [key, value] of Object.entries(obj)) {\n    str_list.push(`${key}:${value};`);\n  }\n  return str_list.join('');\n}\n\nexport function generateTaskUpdateSequence(stim_phrases: string[][], task_settings: StimTaskIntSetting = BB_3s): TaskInfo {\n  const NUM_FRONT_SPACE = Math.ceil(task_settings.front_space_padding_s / task_settings.expected_task_interval_s)\n  const NUM_BACK_SPACE = Math.ceil(task_settings.back_space_padding_s / task_settings.expected_task_interval_s)\n  const curr_l_list: string[] = new Array(NUM_FRONT_SPACE).fill('space')\n  const curr_word_text_list: PhraseWordNum[] = new Array(NUM_FRONT_SPACE).fill({ phrase_n: -1, word_n: -1 })\n  const curr_l_in_word_ind_list: number[] = new Array(NUM_FRONT_SPACE).fill(-1)\n  for (const [phrase_i, phrase] of stim_phrases.entries()) {\n    for (let [word_i, word] of phrase.entries()) {\n      for (let letter_i = 0; letter_i < word.length; letter_i++) {\n        const letter = word[letter_i];\n        curr_l_list.push(letter);\n        curr_word_text_list.push({ phrase_n: phrase_i, word_n: word_i });\n        curr_l_in_word_ind_list.push(letter_i);\n      }\n      curr_l_list.push(...new Array(task_settings.num_space_between_words).fill('space'))\n      curr_word_text_list.push(...new Array(task_settings.num_space_between_words).fill(''))\n      curr_l_in_word_ind_list.push(...new Array(task_settings.num_space_between_words).fill(-1))\n    }\n    const num_extra_space = task_settings.num_space_between_words - task_settings.num_space_between_words\n    curr_l_list.push(...new Array(num_extra_space).fill('space'))\n    curr_word_text_list.push(...new Array(num_extra_space).fill(''))\n    curr_l_in_word_ind_list.push(...new Array(num_extra_space).fill(-1))\n  }\n  const num_extra_space_end = NUM_BACK_SPACE - task_settings.num_space_between_words\n  curr_l_list.push(...new Array(num_extra_space_end).fill('space'))\n  curr_word_text_list.push(...new Array(num_extra_space_end).fill(''))\n  curr_l_in_word_ind_list.push(...new Array(num_extra_space_end).fill(-1))\n  const next_l_list = curr_l_list.slice(1);\n  next_l_list.push('space')\n  const out_seq = {\n    curr_l_list: curr_l_list,\n    curr_word_text_list: curr_word_text_list,\n    next_l_list: next_l_list,\n    curr_l_in_word_ind_list: curr_l_in_word_ind_list,\n  };\n  return { ...out_seq, ...task_settings };\n\n}\n\nexport const SVG_WIDTH = 360\nexport const SVG_HEIGHT = 400\nexport const BETWEEN_BODY_SPACING = 8\nexport const BODY_SVG_TO_EDGE_SPACING = 6\n\nfunction* id_gen(prefix: string) {\n  let id_num = 0;\n  while (true) {\n    id_num++\n    yield `${prefix}_${id_num}`;\n  }\n}\n\nlet id_dict = {};\nexport function get_id(prefix: string = \"id\") {\n  if (!(prefix in id_dict)) {\n    id_dict[prefix] = id_gen(prefix);\n  }\n  return id_dict[prefix].next().value;\n}\n\nexport const DOT_RADIUS_RATIO: number = 1 / 10;\nexport const DOT_COORD: XYCoord[] = [\n  { x: 1 / 2, y: 1 / 11 },\n  { x: 1 / 2, y: 6 / 11 },\n  { x: 1 / 13, y: 3 / 11 },\n  { x: 12 / 13, y: 3 / 11 },\n  { x: 2 / 5, y: 22 / 23 },\n  { x: 3 / 5, y: 22 / 23 },\n];\n\nexport const DOT_COLORS: string[] = [\n  \"rgb(145, 118, 96)\",\n  \"rgb(76, 118, 173)\",\n  \"rgb(192, 76, 84)\",\n  \"rgb(126, 115, 176)\",\n  \"rgb(218, 129, 87)\",\n  \"rgb(91, 166, 106)\",\n];\n\nexport const default_braille_dictionary: BBDictionary = {\n  'space': [0, 0, 0, 0, 0, 0],\n  'a': [1, 0, 0, 0, 0, 0],\n  'b': [1, 0, 1, 0, 0, 0],\n  'c': [1, 1, 0, 0, 0, 0],\n  'd': [1, 1, 0, 1, 0, 0],\n  'e': [1, 0, 0, 1, 0, 0],\n\n  'f': [1, 1, 1, 0, 0, 0],\n  'g': [1, 1, 1, 1, 0, 0],\n  'h': [1, 0, 1, 1, 0, 0],\n  'i': [0, 1, 1, 0, 0, 0],\n  'j': [0, 1, 1, 1, 0, 0],\n\n  'k': [1, 0, 0, 0, 1, 0],\n  'l': [1, 0, 1, 0, 1, 0],\n  'm': [1, 1, 0, 0, 1, 0],\n  'n': [1, 1, 0, 1, 1, 0],\n  'o': [1, 0, 0, 1, 1, 0],\n\n  'p': [1, 1, 1, 0, 1, 0],\n  'q': [1, 1, 1, 1, 1, 0],\n  'r': [1, 0, 1, 1, 1, 0],\n  's': [0, 1, 1, 0, 1, 0],\n  't': [0, 1, 1, 1, 1, 0],\n\n  'u': [1, 0, 0, 0, 1, 1],\n  'v': [1, 0, 1, 0, 1, 1],\n  'w': [0, 1, 1, 1, 0, 1],\n  'x': [1, 1, 0, 0, 1, 1],\n  'y': [1, 1, 0, 1, 1, 1],\n\n  'z': [1, 0, 0, 1, 1, 1]\n};\n\nexport const default_braille_moded_dictionary: BBDictionary = {\n  'space': [0, 0, 0, 0, 0, 0],\n\n  'a': [0, 0, 0, 0, 1, 0],\n  'b': [1, 0, 1, 0, 0, 0],\n  'c': [1, 0, 0, 1, 0, 0],\n  'd': [1, 1, 0, 1, 0, 0],\n  'e': [0, 1, 0, 0, 0, 0],\n\n  'f': [1, 0, 1, 1, 0, 0],\n  'g': [1, 1, 1, 1, 0, 0],\n  'h': [0, 0, 1, 0, 0, 0],\n  'i': [1, 0, 0, 0, 0, 0],\n  'j': [0, 1, 1, 1, 0, 0],\n\n  'k': [1, 0, 0, 0, 1, 0],\n  'l': [1, 0, 1, 0, 1, 0],\n  'm': [1, 0, 0, 1, 1, 0],\n  'n': [0, 0, 0, 1, 1, 0],\n  'o': [0, 0, 0, 1, 0, 0],\n\n  'p': [0, 0, 1, 1, 1, 0],\n  'q': [1, 1, 1, 1, 1, 0],\n  'r': [0, 1, 1, 0, 1, 0],\n  's': [1, 0, 1, 1, 0, 1],\n  't': [0, 0, 0, 0, 0, 1],\n\n  'u': [1, 0, 0, 0, 1, 1],\n  'v': [1, 0, 1, 0, 1, 1],\n  'w': [0, 1, 1, 1, 0, 1],\n  'x': [1, 0, 0, 1, 1, 1],\n  'y': [0, 1, 0, 1, 1, 1],\n\n  'z': [1, 1, 0, 0, 1, 1]\n};\n\nexport const final_BrainBraille_dictionary: BBDictionary = {\n  'space': [0, 0, 0, 0, 0, 0],\n\n  'a': [1, 0, 0, 0, 0, 0],\n  'b': [0, 0, 1, 1, 0, 0],\n  'c': [0, 1, 0, 0, 0, 1],\n  'd': [0, 0, 1, 0, 1, 0],\n  'e': [0, 1, 0, 0, 0, 0],\n\n  'f': [0, 1, 0, 1, 0, 0],\n  'g': [1, 1, 0, 0, 0, 0],\n  'h': [0, 0, 0, 1, 1, 0],\n  'i': [0, 0, 1, 0, 0, 0],\n  'j': [0, 0, 1, 1, 1, 0],\n\n  'k': [1, 0, 0, 1, 0, 1],\n  'l': [0, 0, 0, 0, 1, 1],\n  'm': [0, 0, 1, 0, 0, 1],\n  'n': [0, 0, 0, 1, 0, 0],\n  'o': [0, 0, 0, 0, 1, 0],\n\n  'p': [1, 0, 1, 0, 0, 0],\n  'q': [0, 0, 1, 1, 0, 1],\n  'r': [0, 0, 0, 1, 0, 1],\n  's': [1, 0, 0, 1, 0, 0],\n  't': [0, 0, 0, 0, 0, 1],\n\n  'u': [0, 1, 0, 0, 1, 0],\n  'v': [1, 0, 0, 0, 1, 0],\n  'w': [1, 0, 0, 0, 0, 1],\n  'x': [1, 0, 1, 1, 0, 0],\n  'y': [0, 1, 1, 0, 0, 0],\n\n  'z': [0, 1, 1, 1, 0, 0]\n};\n\nexport class BrainBrailleStim {\n  container_div: HTMLElement;\n  curr_text: SVGTextElement;\n  next_text: SVGTextElement;\n  curr_word: SVGTextElement;\n  curr_index: SVGTextElement;\n  curr_l_in_word_ind: number;\n  curr_dots: (HTMLElement | null)[];\n  next_dots: (HTMLElement | null)[];\n  bb_dict: BBDictionary;\n  curr_text_fill: string;\n  next_text_fill: string;\n\n\n  constructor(container_div: HTMLElement, curr_text: SVGTextElement,\n    next_text: SVGTextElement, curr_word: SVGTextElement,\n    curr_index: SVGTextElement, curr_dots: (HTMLElement | null)[],\n    next_dots: (HTMLElement | null)[],\n    bb_dict: BBDictionary = final_BrainBraille_dictionary,\n    curr_text_fill: string = \"#000000\",\n    next_text_fill: string = \"#b5b5b5\") {\n\n    this.container_div = container_div;\n    this.curr_text = curr_text;\n    this.next_text = next_text;\n    this.curr_word = curr_word;\n    this.curr_index = curr_index;\n    this.curr_dots = curr_dots;\n    this.next_dots = next_dots;\n    this.curr_l_in_word_ind = 0;\n    this.bb_dict = bb_dict;\n    this.curr_text_fill = curr_text_fill;\n    this.next_text_fill = next_text_fill;\n\n  }\n\n  update(curr_l: string, next_l: string, curr_word_text: string, curr_l_in_word_ind: number, curr_index_str: string) {\n    this.curr_text.innerHTML = curr_l;\n    if (curr_l.length > 0) {\n      this.curr_text.setAttribute(\"fill\", this.curr_text_fill);\n    }\n    const curr_l_dots: number[] = this.bb_dict[curr_l];\n    for (let i = 0; i < this.curr_dots.length; i++) {\n      if (curr_l_dots[i] === 1) {\n        this.curr_dots[i]!.setAttribute(\"fill\", `url(#curr_${i})`)\n      } else {\n        this.curr_dots[i]!.setAttribute(\"fill\", \"None\")\n      }\n    }\n\n    this.next_text.innerHTML = next_l;\n    if (next_l.length > 0) {\n      this.next_text.setAttribute(\"fill\", this.next_text_fill);\n    }\n\n    const next_l_dots: number[] = this.bb_dict[next_l];\n    for (let i = 0; i < this.next_dots.length; i++) {\n      if (next_l_dots[i] === 1) {\n        this.next_dots[i]!.setAttribute(\"fill\", `url(#next_${i})`)\n      } else {\n        this.next_dots[i]!.setAttribute(\"fill\", \"None\")\n      }\n    }\n\n    if (curr_word_text.length > 0) {\n      this.curr_word.setAttribute(\"fill\", this.next_text_fill);\n      this.curr_word.innerHTML = `${curr_word_text.substring(0, curr_l_in_word_ind)}<tspan fill=${this.curr_text_fill}>${curr_word_text[curr_l_in_word_ind]}</tspan>${curr_word_text.substring(curr_l_in_word_ind + 1)}`\n    } else {\n      this.curr_word.innerHTML = \"\"\n    }\n    if (curr_index_str) {\n      this.curr_index.innerHTML = curr_index_str;\n    }\n  }\n}\n\n\nexport function genColorDefs(colors: string[], id_prefix: string, stop_opacity: number = 1, stop_offset: number = 0.2) {\n  const color_def_str_arr = ['<defs>'];\n  for (let i = 0; i < colors.length; i++) {\n    const rad_grad_str = `<radialGradient id=\"${id_prefix}_${i}\" cx=\"50%\" cy=\"50%\" r=\"50%\" fx=\"50%\" fy=\"50%\">\\n<stop offset=\"${stop_offset}\" style=\"stop-color:${colors[i]};stop-opacity:${stop_opacity}\" />\\n<stop offset=\"${1 - stop_offset}\" style=\"stop-color:rgb(255,255,255);stop-opacity:0\" />\\n</radialGradient>`;\n    color_def_str_arr.push(rad_grad_str);\n  }\n  color_def_str_arr.push(\"</defs>\");\n  return color_def_str_arr.join(\"\\n\");\n}\n\nexport function getSvgGBody(prefix: string = \"id\") {\n  const svg_g_body_text = `<g transform=\"matrix(2.0000001,0,0,2.0000001,1.7743231,0.23161151)\" id=\"${get_id('svg')}\">\n    <path id=\"${get_id('path')}\" d=\"m 66.228231,198.37588 c -0.590026,-0.65878 -0.589257,-0.64999 -0.224893,-2.57209 0.359051,-1.89406 0.810047,-2.87574 1.974482,-4.29776 l 0.93887,-1.14656 0.187266,-3.3156 c 0.207926,-3.68142 -0.01963,-12.63779 -0.392481,-15.44713 -0.132321,-0.99702 -0.306089,-5.07572 -0.386155,-9.06378 l -0.145573,-7.25103 1.174247,-4.74106 1.174245,-4.74105 0.180645,-6.41437 c 0.09936,-3.52791 0.266757,-6.63432 0.372012,-6.90316 0.229322,-0.58573 -0.35297,-4.16589 -0.724931,-4.45717 -0.143913,-0.11268 -0.587231,-0.20681 -0.985151,-0.20916 l -0.723493,-0.004 0.148236,-6.62354 c 0.136931,-6.11832 0.777565,-14.7576 1.442462,-19.45227 0.152066,-1.07372 0.366375,-3.395431 0.476243,-5.159383 0.219478,-3.523761 1.109533,-8.543512 2.245362,-12.663426 1.322123,-4.795659 1.478937,-6.193064 1.536405,-13.691268 0.04889,-6.378503 0.0063,-7.185804 -0.500355,-9.481686 -1.243162,-5.633393 -2.890287,-10.172357 -3.872807,-10.672192 -0.298346,-0.151783 -1.634692,-0.62204 -2.969654,-1.045032 l -2.427211,-0.769081 -1.437189,0.573111 c -3.428357,1.367121 -8.461401,2.553102 -12.655764,2.982177 -2.968548,0.303674 -4.53547,0.592474 -5.321891,0.980882 -0.613024,0.302768 -2.087812,0.822502 -3.277309,1.154962 -1.944914,0.543598 -3.106018,0.623894 -11.529404,0.797403 -10.14822,0.20904 -10.346689,0.237986 -13.033551,1.900884 -1.752083,1.084361 -4.915454,2.029637 -7.004923,2.093208 C 8.9795706,58.781931 8.7407228,58.71562 8.3911366,58.16032 8.0162682,57.564904 7.8316339,57.532829 4.7793785,57.532829 c -1.7691817,0 -3.4953943,-0.118307 -3.83602708,-0.262913 -0.72528914,-0.308136 -1.0766519,-1.271248 -0.66548962,-1.824395 0.37178337,-0.500182 2.9985751,-1.443877 5.4847545,-1.970462 1.0754992,-0.227794 2.6231563,-0.658912 3.4392388,-0.958033 0.8160809,-0.29913 2.3743089,-0.725264 3.4627269,-0.946974 4.695781,-0.956524 9.519988,-2.205243 10.442856,-2.703083 0.548132,-0.295695 1.205874,-0.537622 1.461648,-0.537622 0.255776,0 0.801989,-0.194546 1.213807,-0.432321 0.960344,-0.554485 5.265404,-2.229128 7.843781,-3.051186 2.33104,-0.743204 4.33146,-1.143239 7.603717,-1.520575 1.628111,-0.187744 3.058956,-0.57017 4.620897,-1.235046 2.340892,-0.996449 4.811297,-1.766364 8.257205,-2.573398 1.099026,-0.25739 2.740947,-0.701591 3.648715,-0.987112 0.907769,-0.285521 1.876112,-0.519128 2.151875,-0.519128 0.275762,0 0.769446,-0.233172 1.097073,-0.518157 0.651389,-0.566605 3.507754,-2.233884 5.091696,-2.972056 2.166767,-1.009785 3.63617,-1.327634 6.993792,-1.51284 3.387151,-0.186833 3.559609,-0.226689 5.495123,-1.27 2.97863,-1.605586 3.926431,-2.413504 4.601257,-3.922169 l 0.596558,-1.333693 -0.590915,-1.974618 c -0.325004,-1.08604 -0.773821,-2.225616 -0.99737,-2.532391 -1.092669,-1.499451 -1.431931,-4.171972 -1.203699,-9.48211 0.187184,-4.3551157 0.456965,-5.4717645 1.860702,-7.7016038 1.163668,-1.848484 1.65391,-2.3328018 3.226819,-3.187817 2.511534,-1.36524104 6.34725,-0.64742751 8.313675,1.5558179 0.510459,0.5719405 1.31538,1.8868414 1.788704,2.9220022 0.845156,1.8483533 0.864943,1.9717664 1.102984,6.8808337 0.217432,4.483988 0.196767,5.162326 -0.200628,6.587474 -0.243668,0.873812 -0.603169,1.791392 -0.798898,2.03907 -0.644868,0.816024 -1.581198,4.601729 -1.355486,5.480439 0.517949,2.016445 0.884333,2.398469 3.927127,4.094752 l 2.958563,1.649313 3.24711,0.198711 c 4.34587,0.265952 5.86009,0.724796 10.02565,3.037992 1.94228,1.078577 3.71997,1.96105 3.95043,1.96105 0.23046,0 0.64187,0.13317 0.91426,0.295937 0.27238,0.162762 2.09149,0.668154 4.04248,1.123091 4.32547,1.008628 6.70808,1.739752 9.16723,2.81305 1.31833,0.57538 2.79837,0.936979 4.99557,1.220512 3.6068,0.46543 3.86262,0.519292 6.86891,1.446387 1.23639,0.381294 3.16119,0.971819 4.2773,1.31229 1.11612,0.34046 2.54115,0.953929 3.16671,1.363263 0.62557,0.409331 1.30767,0.744236 1.51577,0.744236 0.20808,0 0.75008,0.242634 1.2044,0.539192 0.45433,0.296558 2.28726,0.856852 4.07317,1.245104 6.13108,1.332874 8.24636,1.855549 10.24092,2.530514 1.09903,0.371913 2.72882,0.808249 3.62178,0.969636 3.30775,0.597797 4.99557,1.459951 4.99557,2.551764 0,1.095459 -0.90883,1.367015 -4.57498,1.367015 -3.20356,0 -3.47412,0.04027 -3.58979,0.534154 -0.17365,0.741422 -0.9781,0.898803 -2.98199,0.583409 -2.96133,-0.466104 -3.81641,-0.739726 -5.63411,-1.802878 -3.28042,-1.918708 -4.32921,-2.08799 -13.06764,-2.109219 -9.23958,-0.02245 -12.04119,-0.362595 -14.73764,-1.789302 -0.92687,-0.490421 -3.06914,-0.878112 -7.06065,-1.277779 -1.68572,-0.168786 -3.37173,-0.410322 -3.74668,-0.536725 -1.23753,-0.417227 -2.65632,-0.826222 -4.42842,-1.276598 -0.96165,-0.244404 -2.44709,-0.697048 -3.30098,-1.005875 l -1.55252,-0.561507 -1.93664,0.593223 c -2.12894,0.652134 -3.47651,1.28968 -4.12026,1.949349 -0.64287,0.658754 -2.32036,6.2119 -2.91064,9.635431 -0.7015,4.068455 -1.09685,11.844436 -0.77479,15.238886 0.2445,2.576977 0.59392,4.208044 2.04222,9.532807 0.96619,3.552347 1.93586,9.098209 1.93708,11.078895 5e-4,0.855283 0.16421,2.863259 0.36375,4.462177 1.02483,8.2116 1.93968,20.57556 1.7487,23.63246 -0.15417,2.46739 -0.20417,2.64452 -0.99616,3.5288 -0.50995,0.56936 -0.90335,1.34463 -1.01275,1.99583 -0.0984,0.58565 -0.10689,3.9549 -0.0188,7.4872 0.13845,5.55508 0.26013,6.97702 0.90104,10.52968 0.40754,2.25904 0.91468,4.76042 1.12699,5.5586 0.45581,1.71379 0.52399,9.37349 0.12124,13.62102 -0.46028,4.85426 -0.6532,11.5111 -0.50566,17.44806 l 0.14597,5.87429 1.16984,1.23729 c 0.99692,1.05438 1.23318,1.52012 1.59841,3.15062 0.311,1.38836 0.36696,2.19177 0.20395,2.92829 l -0.22464,1.01498 h -4.99556 -4.99557 l -0.16418,-5.8566 c -0.16282,-5.80817 -0.73442,-13.5494 -1.23284,-16.69626 -0.34244,-2.16204 -1.631462,-7.96267 -1.997185,-8.98739 -0.159098,-0.44576 -0.380174,-1.75172 -0.491278,-2.90213 -0.111105,-1.15041 -0.376211,-3.28388 -0.589122,-4.74106 -0.212919,-1.45717 -0.389134,-4.25481 -0.391598,-6.21695 -0.0047,-3.97932 -0.349155,-6.27936 -1.636161,-10.9345 -0.466481,-1.68725 -1.177062,-4.69923 -1.579079,-6.69326 -0.40202,-1.99403 -0.970288,-4.32969 -1.262827,-5.19035 -0.448412,-1.31925 -0.658509,-1.60506 -1.338712,-1.82113 -0.999809,-0.3176 -1.215276,-1.04252 -1.804822,-6.07213 -0.562623,-4.79979 -0.719107,-5.21707 -1.10255,-2.93984 -0.166718,0.99015 -0.436696,3.29326 -0.599959,5.11804 -0.312062,3.48806 -0.361247,3.60138 -1.697976,3.91215 -0.540266,0.12559 -0.74132,0.45061 -1.174796,1.89908 -0.78164,2.61185 -1.984512,7.93075 -2.410827,10.6603 -0.207191,1.32658 -0.537023,3.12686 -0.732956,4.00064 -0.550893,2.45671 -0.878993,5.13921 -1.149404,9.39746 -0.13637,2.14742 -0.365771,4.34365 -0.509784,4.88049 -0.144011,0.53687 -0.362697,2.16835 -0.485965,3.62553 -0.140531,1.66121 -0.65174,4.31372 -1.370596,7.11157 -1.478063,5.75276 -1.792821,8.50998 -2.133067,18.68534 -0.153871,4.60161 -0.3003,8.68032 -0.3254,9.06378 l -0.04563,0.69722 -4.677853,0.076 c -4.410689,0.0716 -4.706694,0.0436 -5.182898,-0.48805 z\"\n    />`;\n  return svg_g_body_text;\n}\n\nexport function getSvgDot(id: string, cx: number, cy: number, r: number, fill: string) {\n  return `<path id=${id} d=\"M ${cx},${cy} m -${r},0 a ${r},${r} 0 1,0 ${r * 2},0 a ${r},${r} 0 1,0 -${r * 2},0 z\" stroke=\"none\" fill=\"${fill}\"/>`;\n}\n\nexport function prepBrainBrailleStim(\n  parentElement?: HTMLElement,\n  svg_width: number = SVG_WIDTH,\n  svg_height: number = SVG_HEIGHT,\n  between_body_spacing: number = BETWEEN_BODY_SPACING,\n  body_svg_to_edge_spacing: number = BODY_SVG_TO_EDGE_SPACING,\n  curr_body_svg_style: SVGObjStyle = CURR_BODY_SVG_STYLE,\n  next_body_svg_style: SVGObjStyle = NEXT_BODY_SVG_STYLE,\n  dot_radius_ratio: number = DOT_RADIUS_RATIO,\n  dot_coord: XYCoord[] = DOT_COORD,\n) {\n  // Create the div and the svg container for BrainBrailleStim\n  const brainbraille_div = document.createElement(\"div\");\n  if (typeof parentElement === \"undefined\") {\n    parentElement = document.createElement(\"div\");\n    document.body.appendChild(parentElement);\n  }\n  parentElement.appendChild(brainbraille_div);\n  brainbraille_div.className = \"brainbraille-div\";\n  const bb_svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  bb_svg.setAttribute(\"id\", get_id(\"svg\"));\n  bb_svg.setAttribute(\"class\", \"body-svg\");\n  const SVG_VIEW_PORT_WIDTH = svg_width * 2 + between_body_spacing + 2 * body_svg_to_edge_spacing;\n  bb_svg.setAttribute(\"viewBox\", `0 0 ${SVG_VIEW_PORT_WIDTH} ${svg_height}`);\n  bb_svg.setAttribute(\"style\", \"width: 100%; height: 100%;\");\n  brainbraille_div.setAttribute(\"style\", \"width: 100vw; height: 94vh; padding-top: 3vh; padding-bottom: 3vh;\");\n  brainbraille_div.appendChild(bb_svg);\n\n  // Create the vertical separator line in the middle\n  const vline = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n  const vline_x = SVG_VIEW_PORT_WIDTH / 2\n  vline.setAttribute(\"x1\", `${vline_x}`);\n  vline.setAttribute(\"y1\", `${0}`);\n  vline.setAttribute(\"x2\", `${vline_x}`);\n  vline.setAttribute(\"y1\", `${svg_height}`);\n  vline.setAttribute(\"style\", \"stroke-width:2.5;stroke:#858585\");\n  bb_svg.appendChild(vline);\n\n  // Create the Curr letter text\n  const curr_text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  curr_text.setAttribute(\"text-anchor\", \"end\");\n  curr_text.setAttribute(\"x\", `${body_svg_to_edge_spacing + svg_width * 29 / 30}`);\n  curr_text.setAttribute(\"y\", `${svg_height * 6 / 13}`);\n  curr_text.setAttribute(\"font-size\", \"4.3vh\");\n  curr_text.setAttribute(\"font-family\", \"Arial, sans-serif\");\n  curr_text.setAttribute(\"font-weight\", \"bold\");\n  curr_text.setAttribute(\"fill\", `${curr_body_svg_style.stroke}`);\n  curr_text.innerHTML = 'Rest';\n  bb_svg.appendChild(curr_text);\n\n  // Create the Next letter text\n  const next_text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  next_text.setAttribute(\"text-anchor\", \"start\");\n  next_text.setAttribute(\"x\", `${body_svg_to_edge_spacing + svg_width + between_body_spacing + svg_width * 1 / 30}`);\n  next_text.setAttribute(\"y\", `${svg_height * 6 / 13}`);\n  next_text.setAttribute(\"font-size\", \"4.3vh\");\n  next_text.setAttribute(\"font-family\", \"Arial, sans-serif\");\n  next_text.setAttribute(\"font-weight\", \"bold\");\n  next_text.setAttribute(\"fill\", `${next_body_svg_style.stroke}`);\n  next_text.innerHTML = 'Rest';\n  bb_svg.appendChild(next_text);\n\n  // Create the Curr word text\n  const curr_word = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  curr_word.setAttribute(\"text-anchor\", \"end\");\n  curr_word.setAttribute(\"x\", `${body_svg_to_edge_spacing + svg_width * 29 / 30}`);\n  curr_word.setAttribute(\"y\", `${svg_height * 7 / 13}`);\n  curr_word.setAttribute(\"font-size\", \"3vh\");\n  curr_word.setAttribute(\"font-family\", \"Arial, sans-serif\");\n  curr_word.setAttribute(\"fill\", `${next_body_svg_style.stroke}`);\n  curr_word.innerHTML = \"\";\n  bb_svg.appendChild(curr_word);\n\n  // Create the Curr letter index text\n  const curr_index = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  curr_index.setAttribute(\"text-anchor\", \"end\");\n  curr_index.setAttribute(\"x\", `${body_svg_to_edge_spacing + svg_width * 29 / 30}`);\n  curr_index.setAttribute(\"y\", `${svg_height * 1 / 17}`);\n  curr_index.setAttribute(\"font-size\", \"2vh\");\n  curr_index.setAttribute(\"font-family\", \"Arial, sans-serif\");\n  curr_index.setAttribute(\"fill\", `${next_body_svg_style.stroke}`);\n  curr_index.innerHTML = \"\";\n  bb_svg.appendChild(curr_index);\n\n  // Create the left curr body svg\n  const dot_radius = svg_width * dot_radius_ratio;\n  const curr_bb_body_g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  curr_bb_body_g.setAttribute(\"class\", \"bb_curr_body\");\n  curr_bb_body_g.setAttribute(\"id\", get_id(\"g\"));\n  curr_bb_body_g.setAttribute(\"style\", obj_to_style_str(curr_body_svg_style));\n  curr_bb_body_g.setAttribute(\"transform\", `translate(${body_svg_to_edge_spacing}, 0)`);\n  bb_svg.appendChild(curr_bb_body_g);\n  curr_bb_body_g.insertAdjacentHTML('beforeend', getSvgGBody());\n  curr_bb_body_g.insertAdjacentHTML('beforeend', genColorDefs(DOT_COLORS, \"curr\", 1, 0.32));\n  const curr_dot_ids: string[] = [];\n  for (let i = 0; i < 6; i++) {\n    const xy_i = dot_coord[i];\n    const id = get_id(\"dot\");\n    curr_dot_ids.push(id);\n    curr_bb_body_g.insertAdjacentHTML('beforeend', getSvgDot(id, svg_width * xy_i.x, svg_height * xy_i.y, dot_radius, \"None\"));\n  }\n  const curr_dot_elements = curr_dot_ids.map(id => document.getElementById(id));\n\n  // Create the right next body svg\n  const next_bb_body_g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  next_bb_body_g.setAttribute(\"class\", \"bb_next_body\");\n  next_bb_body_g.setAttribute(\"id\", get_id(\"g\"));\n  next_bb_body_g.setAttribute(\"style\", obj_to_style_str(next_body_svg_style));\n  const next_bb_body_x_offset = between_body_spacing + body_svg_to_edge_spacing + svg_width;\n  next_bb_body_g.setAttribute(\"transform\", `translate(${next_bb_body_x_offset}, 0)`);\n  bb_svg.appendChild(next_bb_body_g);\n  next_bb_body_g.insertAdjacentHTML('beforeend', getSvgGBody());\n  next_bb_body_g.insertAdjacentHTML('beforeend', genColorDefs(DOT_COLORS, \"next\", 0.5, 0.16));\n  const next_dot_ids: string[] = [];\n  for (let i = 0; i < 6; i++) {\n    const xy_i = dot_coord[i];\n    const id = get_id(\"dot\");\n    next_dot_ids.push(id);\n    next_bb_body_g.insertAdjacentHTML('beforeend', getSvgDot(id, svg_width * xy_i.x, svg_height * xy_i.y, dot_radius, \"None\"));\n  }\n\n  const next_dot_elements = next_dot_ids.map(id => document.getElementById(id));\n\n  return new BrainBrailleStim(brainbraille_div, curr_text, next_text, curr_word, curr_index, curr_dot_elements, next_dot_elements);\n}\n\nexport function delay(time_ms: number, callback: Function | null = null) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      try {\n        if (callback) {\n          resolve(callback());\n        } else {\n          resolve(null);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    }, time_ms)\n  })\n}\n\nexport async function run_study(stim_sequence: string[][], task_info: TaskInfo,\n  brainbraille_stim: BrainBrailleStim) {\n  console.log(\"run_study called\")\n  const task_len = task_info.curr_l_list.length\n  let i = 0\n  let my_resolve: Function;\n  let my_promise = new Promise((resolve) => {\n    my_resolve = resolve;\n  })\n  //Add canceling mechanism\n\n  const on_key_down = (event: KeyboardEvent) => {\n    if (event.key === \"Escape\") {\n\n      document.removeEventListener(\"keydown\", on_key_down);\n      my_resolve();\n    }\n  }\n  document.addEventListener(\"keydown\", on_key_down);\n  const num_frames_per_stim = Math.ceil(task_info.expected_task_interval_s / task_info.expected_TR_s);\n  let frame_per_stim_i = 0;\n\n  document.addEventListener(\"keypress\", on_key_press);\n  function update() {\n    if (i < task_len) {\n      const curr_l = task_info.curr_l_list[i];\n      const word_info = task_info.curr_word_text_list[i];\n      let curr_word_text: string;\n      if (word_info.phrase_n > -1) {\n        curr_word_text = stim_sequence[word_info.phrase_n][word_info.word_n];\n      } else {\n        curr_word_text = \"\";\n      }\n      const next_l = task_info.next_l_list[i];\n      const curr_l_in_word_ind = task_info.curr_l_in_word_ind_list[i];\n      brainbraille_stim.update(curr_l, next_l, curr_word_text, curr_l_in_word_ind, `${i + 1}/${task_len}`);\n      i++;\n    } else {\n      document.removeEventListener(\"keydown\", on_key_down);\n      document.removeEventListener(\"keypress\", on_key_press);\n      my_resolve();\n    }\n  }\n\n  function on_key_press(event: KeyboardEvent) {\n    if (event.key === \"t\") {\n      frame_per_stim_i++;\n      if (frame_per_stim_i === num_frames_per_stim) {\n        update();\n        frame_per_stim_i = 0;\n      }\n    }\n  }\n  update();\n  return my_promise;\n\n}\n\nexport async function run_practice(stim_sequence: string[][], task_info: TaskInfo,\n  brainbraille_stim: BrainBrailleStim) {\n  const task_len = task_info.curr_l_list.length;\n  let i = 0;\n  let interval_id: number;\n  let my_resolve: Function;\n  let my_promise = new Promise((resolve) => {\n    my_resolve = resolve;\n  })\n\n  //Add canceling mechanism\n  const on_key_down = (event: KeyboardEvent) => {\n    if (event.key === \"Escape\") {\n      clearInterval(interval_id);\n      document.removeEventListener(\"keydown\", on_key_down);\n      my_resolve();\n    }\n  }\n  document.addEventListener(\"keydown\", on_key_down);\n\n  function update() {\n    if (i < task_len) {\n      const curr_l = task_info.curr_l_list[i];\n      const word_info = task_info.curr_word_text_list[i]\n      let curr_word_text: string;\n      if (word_info.phrase_n > -1) {\n        curr_word_text = stim_sequence[word_info.phrase_n][word_info.word_n];\n      } else {\n        curr_word_text = ''\n      }\n      const next_l = task_info.next_l_list[i];\n      const curr_l_in_word_ind = task_info.curr_l_in_word_ind_list[i];\n      brainbraille_stim.update(curr_l, next_l, curr_word_text, curr_l_in_word_ind, `${i + 1}/${task_len}`);\n      i++;\n      // if (i === task_len) {\n\n      // }\n    } else {\n      if (interval_id) {\n        clearInterval(interval_id);\n        document.removeEventListener(\"keydown\", on_key_down);\n        my_resolve();\n      }\n    }\n  }\n\n  update();\n  interval_id = setInterval(update, task_info.expected_task_interval_s * 1000)\n\n  return my_promise\n}\n\n\n// export async function run_task(\n//   stim_sequence: string[][], task_info: TaskInfo,\n//   brainbraille_stim: BrainBrailleStim) {\n//   const task_len = task_info.curr_l_list.length\n//   let exit = false;\n//   let timeout_id: number;\n//   let my_resolve: Function;\n//   const on_key_down = (event) => {\n//     console.log(event)\n//     if (event.keyCode === 27) {\n//       console.log(\"escape\")\n//       clearTimeout(timeout_id)\n//       exit = true;\n//       if (my_resolve) {\n//         my_resolve();\n//       }\n//     }\n//   }\n//   document.addEventListener(\"keydown\", on_key_down)\n//   let task_queue: Promise<any> = Promise.resolve();\n//   for (let i = 0; i < task_len; i++) {\n//     const curr_l = task_info.curr_l_list[i];\n//     const word_info = task_info.curr_word_text_list[i]\n//     let curr_word_text: string;\n//     if (word_info.phrase_n > -1) {\n//       curr_word_text = stim_sequence[word_info.phrase_n][word_info.word_n]\n//     } else {\n//       curr_word_text = ''\n//     }\n//     const next_l = task_info.next_l_list[i];\n//     const curr_l_in_word_ind = task_info.curr_l_in_word_ind_list[i];\n\n//     function new_task() {\n//       return new Promise((resolve, reject) => {\n//         if (!exit) {\n//           try {\n//             my_resolve = resolve;\n//             timeout_id = setTimeout(() => {\n//               if (!exit) {\n//                 brainbraille_stim.update(curr_l, next_l, curr_word_text, curr_l_in_word_ind);\n//               }\n//               resolve(null)\n//             }, task_info.expected_task_interval_s * 1000)\n//           } catch (e) {\n//             reject(e);\n//           }\n//         } else {\n//           resolve(null);\n//         }\n//       })\n//     }\n\n//     task_queue = task_queue.then(new_task)\n//   }\n//   task_queue.then(() => {\n//     document.removeEventListener(\"keydown\", on_key_down);\n//   })\n//   await task_queue;\n// }\n\nfunction validate_start_config(start_config: StartConfig) {\n  if (start_config.mode === \"Practice\") {\n    start_config.TR = \"N.A.\"\n    if (start_config.start_delay_s > 30) {\n      start_config.start_delay_s = 30;\n    } else if (start_config.start_delay_s < 0) {\n      start_config.start_delay_s = 0;\n    }\n  } else if (start_config.mode === \"Study\") {\n    start_config.start_delay_s = 0;\n  }\n}\n\nexport function updateSearchURL(start_config: StartConfig) {\n  const curr_url_search_string = window.location.search\n  const url_params: URLSearchParams = new URLSearchParams(curr_url_search_string);\n  for (const [key, val] of Object.entries(start_config)) {\n    url_params.set(key, val);\n  }\n  if (url_params.toString() !== curr_url_search_string) {\n    const new_url = `${window.location.protocol}//${window.location.host}${window.location.pathname}?${url_params.toString()}`\n    window.history.pushState({ path: new_url }, '', new_url);\n  }\n}\n\nexport function prepControlPanel(start_config: StartConfig,\n  parentElement?: HTMLElement) {\n\n  validate_start_config(start_config);\n  updateSearchURL(start_config);\n\n  const bb_control_panel_div = document.createElement(\"div\");\n  if (typeof parentElement === \"undefined\") {\n    parentElement = document.createElement(\"div\");\n    document.body.appendChild(parentElement);\n  }\n  parentElement.appendChild(bb_control_panel_div);\n  bb_control_panel_div.className = \"bb-control-panel-div\";\n  const div_style = {\n    \"background-color\": \"#e5e5e5\",\n    \"align-items\": \"center\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"height\": \"20vh\",\n    \"position\": \"relative\",\n    \"top\": \"40vh\",\n  }\n\n  const info_panel_style = {\n    \"background-color\": \"#efefef\",\n    \"align-items\": \"center\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"height\": \"10vh\",\n    \"position\": \"relative\",\n    \"top\": \"35vh\",\n    \"font-family\": \"Arial, sans-serif\",\n    \"font-size\": \"3em\",\n  }\n\n  bb_control_panel_div.setAttribute(\"style\", obj_to_style_str(div_style));\n\n  const select_style = {\n    \"font-size\": \"1.6em\",\n    \"margin-right\": \"20px\",\n    \"height\": \"6vh\",\n    \"font-family\": \"Arial, sans-serif\",\n  }\n\n  const input_style = {\n    \"font-size\": \"1.6em\",\n    \"margin-right\": \"20px\",\n    \"height\": \"5vh\",\n    \"font-family\": \"Arial, sans-serif\",\n  }\n\n  const select_label_style = {\n    \"font-size\": \"1.6em\",\n    \"font-family\": \"Arial, sans-serif\",\n    \"margin-right\": \"6px\",\n  }\n\n  // Add select mode dropdown\n  const select_mode_form = document.createElement(\"form\");\n  const select_mode_label = document.createElement(\"label\");\n  select_mode_label.setAttribute(\"for\", \"modes\");\n  select_mode_label.innerHTML = \"Mode:\"\n  select_mode_label.setAttribute(\"style\", obj_to_style_str(select_label_style));\n  select_mode_form.appendChild(select_mode_label);\n  const select_mode = document.createElement(\"select\");\n  select_mode.setAttribute(\"name\", \"modes\");\n  select_mode.setAttribute(\"id\", \"modes\");\n  const option_study = document.createElement(\"option\");\n  option_study.setAttribute(\"value\", \"Study\");\n  option_study.value = \"Study\";\n  option_study.innerHTML = \"Study\";\n  if (start_config.mode === \"Study\") {\n    option_study.setAttribute(\"selected\", \"selected\");\n  }\n  select_mode.appendChild(option_study);\n  const option_practice = document.createElement(\"option\");\n  option_practice.setAttribute(\"value\", \"Practice\");\n  option_practice.value = \"Practice\";\n  option_practice.innerHTML = \"Practice\";\n  option_practice.innerHTML = \"Practice\";\n  if (start_config.mode === \"Practice\") {\n    option_practice.setAttribute(\"selected\", \"selected\");\n  }\n  select_mode.appendChild(option_practice);\n  select_mode_form.appendChild(select_mode);\n  bb_control_panel_div.appendChild(select_mode_form);\n\n  select_mode.setAttribute(\"style\", obj_to_style_str(select_style));\n\n  // Add select task input interval dropdown\n  const select_interval_form = document.createElement(\"form\");\n  const select_interval_label = document.createElement(\"label\");\n  select_interval_label.setAttribute(\"for\", \"interval\")\n  select_interval_label.innerHTML = \"Input Interval:\"\n  select_interval_label.setAttribute(\"style\", obj_to_style_str(select_label_style))\n  select_interval_form.appendChild(select_interval_label)\n  const select_interval = document.createElement(\"select\")\n  select_interval.setAttribute(\"name\", \"interval\")\n  select_interval.setAttribute(\"id\", \"interval\")\n  const option_3s = document.createElement(\"option\")\n  option_3s.setAttribute(\"value\", \"3s\")\n  option_3s.value = \"3s\"\n  option_3s.innerHTML = \"3s\"\n  if (start_config.interval === \"3s\") {\n    option_3s.setAttribute(\"selected\", \"selected\")\n  }\n  select_interval.appendChild(option_3s)\n  const option_1s5 = document.createElement(\"option\")\n  option_1s5.setAttribute(\"value\", \"1.5s\")\n  option_1s5.value = \"1.5s\"\n  option_1s5.innerHTML = \"1.5s\"\n  if (start_config.interval === \"1.5s\") {\n    option_1s5.setAttribute(\"selected\", \"selected\")\n  }\n  select_interval.appendChild(option_1s5)\n  select_interval_form.appendChild(select_interval)\n  bb_control_panel_div.appendChild(select_interval_form)\n  select_interval.setAttribute(\"style\", obj_to_style_str(select_style))\n\n  // Add select TR dropdown\n  const select_TR_form = document.createElement(\"form\");\n  const select_TR_label = document.createElement(\"label\");\n  select_TR_label.setAttribute(\"for\", \"TR\")\n  select_TR_label.innerHTML = \"fMRI TR:\"\n  select_TR_label.setAttribute(\"style\", obj_to_style_str(select_label_style))\n  select_TR_form.appendChild(select_TR_label)\n  const select_TR = document.createElement(\"select\")\n  select_TR.setAttribute(\"name\", \"TR\")\n  select_TR.setAttribute(\"id\", \"TR\")\n  const option_500ms = document.createElement(\"option\")\n  option_500ms.setAttribute(\"value\", \"500ms\")\n  option_500ms.value = \"500ms\"\n  option_500ms.innerHTML = \"500ms\"\n  const option_750ms = document.createElement(\"option\")\n  option_750ms.setAttribute(\"value\", \"750ms\")\n  option_750ms.value = \"750ms\"\n  option_750ms.innerHTML = \"750ms\"\n  const option_na = document.createElement(\"option\")\n  option_na.setAttribute(\"value\", \"N.A.\")\n  option_na.value = \"N.A.\"\n  option_na.innerHTML = \"N.A.\"\n  select_TR.setAttribute(\"style\", obj_to_style_str({ ...select_style, ...{ \"width\": \"100px\" } }))\n\n  // Add start delay number input\n  const input_delay_s_form = document.createElement(\"form\");\n  const input_delay_s_label = document.createElement(\"label\");\n  input_delay_s_label.setAttribute(\"for\", \"start_delay_s\");\n  input_delay_s_label.innerHTML = \"Start delay(s):\";\n  input_delay_s_label.setAttribute(\"style\", obj_to_style_str(select_label_style));\n  input_delay_s_form.appendChild(input_delay_s_label);\n  const input_delay_s = document.createElement(\"input\");\n  input_delay_s.setAttribute(\"type\", \"number\");\n  input_delay_s.setAttribute(\"min\", \"0\");\n  input_delay_s.setAttribute(\"max\", \"30\");\n  input_delay_s.setAttribute(\"step\", \"5\");\n  input_delay_s.setAttribute(\"id\", \"start_delay_s\");\n  input_delay_s.setAttribute(\"style\", obj_to_style_str(input_style));\n  input_delay_s.setAttribute(\"value\", start_config.start_delay_s.toString());\n  input_delay_s.value = start_config.start_delay_s.toString();\n  input_delay_s_form.appendChild(input_delay_s_label);\n  input_delay_s_form.appendChild(input_delay_s);\n  bb_control_panel_div.appendChild(input_delay_s_form);\n\n  // Change options for other input based on mode\n  function onModeChange() {\n    if (start_config.mode == \"Practice\") {\n      select_TR.disabled = true;\n      start_config.TR = \"N.A.\";\n      if (select_TR.contains(option_500ms)) {\n        select_TR.removeChild(option_500ms);\n      }\n      if (select_TR.contains(option_750ms)) {\n        select_TR.removeChild(option_750ms);\n      }\n      select_TR.appendChild(option_na);\n      option_na.setAttribute(\"selected\", \"selected\");\n      input_delay_s.disabled = false;\n      start_config.start_delay_s = 5;\n      input_delay_s.setAttribute(\"value\", start_config.start_delay_s.toString());\n      input_delay_s.value = start_config.start_delay_s.toString();\n    } else if (start_config.mode == \"Study\") {\n      select_TR.disabled = false;\n      if (select_TR.contains(option_na)) {\n        select_TR.removeChild(option_na);\n      }\n      select_TR.appendChild(option_500ms);\n      select_TR.appendChild(option_750ms);\n      if (start_config.TR === \"500ms\") {\n        option_500ms.setAttribute(\"selected\", \"selected\");\n      } else if (start_config.TR === \"750ms\") {\n        option_750ms.setAttribute(\"selected\", \"selected\");\n      }\n      input_delay_s.disabled = true;\n      start_config.start_delay_s = 0;\n      input_delay_s.setAttribute(\"value\", start_config.start_delay_s.toString());\n      input_delay_s.value = start_config.start_delay_s.toString();\n    }\n  }\n  onModeChange();\n  select_TR_form.appendChild(select_TR)\n  bb_control_panel_div.appendChild(select_TR_form)\n\n  const button_style = {\n    \"display\": \"block\",\n    \"height\": \"6vh\",\n    \"padding-left\": \"26px\",\n    \"padding-right\": \"26px\",\n    \"font-size\": \"2em\",\n    \"cursor\": \"pointer\",\n    \"text-align\": \"center\",\n    \"margin-right\": \"10px\",\n    \"border-radius\": \"3vh\",\n    \"border\": \"none\",\n    \"color\": \"white\",\n    \"font-family\": \"Arial, sans-serif\",\n    \"background-color\": PRIMARY_COLOR,\n  }\n  const start_button = document.createElement(\"button\");\n  start_button.addEventListener(\"mouseover\", () => {\n    if (!start_button.disabled) {\n      start_button.style.backgroundColor = PRIMARY_VARIANT_1_COLOR;\n    }\n  })\n  start_button.addEventListener('mouseout', () => {\n    if (!start_button.disabled) {\n      start_button.style.backgroundColor = PRIMARY_COLOR;\n    }\n  })\n  start_button.setAttribute(\"type\", \"button\");\n  start_button.setAttribute(\"style\", obj_to_style_str(button_style));\n  start_button.innerHTML = \"Start\"\n  bb_control_panel_div.appendChild(start_button);\n\n  start_button.addEventListener(\"click\", async () => {\n    start_button.disabled = true;\n    start_button.style.backgroundColor = PRIMARY_VARIANT_2_COLOR;\n    openFullscreen();\n    let no_abort: boolean = true;\n    let info_panel: HTMLElement = document.createElement(\"div\");\n    info_panel.setAttribute(\"id\", \"info_panel\");\n    info_panel.setAttribute(\"style\", obj_to_style_str(info_panel_style));\n    parentElement.appendChild(info_panel);\n    let my_resolve: Function;\n    const delay_promise = new Promise((resolve) => {\n      my_resolve = resolve;\n    })\n    if (start_config.mode === \"Practice\") {\n      if ((start_config.start_delay_s >= 0) && (start_config.start_delay_s <= 30)) {\n        info_panel.innerHTML = start_config.start_delay_s.toString();\n        let curr_count_down_num: number = start_config.start_delay_s;\n        const interval_id = setInterval(update_count_down, 1000);\n        function update_count_down() {\n          curr_count_down_num--;\n          if (curr_count_down_num > 0) {\n            info_panel.innerHTML = curr_count_down_num.toString();\n          } else {\n            clearInterval(interval_id);\n          }\n        }\n        let timeout_id = setTimeout(() => {\n          my_resolve()\n        }, start_config.start_delay_s * 1000)\n        document.addEventListener(\"keydown\", on_key_down)\n        function on_key_down(event: KeyboardEvent) {\n          if (event.key === \"Escape\") {\n            clearTimeout(timeout_id);\n            clearInterval(interval_id);\n            document.removeEventListener(\"keydown\", on_key_down);\n            no_abort = false;\n            my_resolve();\n          }\n        }\n\n      }\n      await delay_promise;\n    } else if (start_config.mode === \"Study\") {\n      info_panel.innerHTML = \"Waiting for fMRI to start!\"\n      document.addEventListener(\"keypress\", on_key_press);\n      document.addEventListener(\"keydown\", on_key_down);\n\n      function on_key_press(event: KeyboardEvent) {\n        if (event.key === \"t\") {\n          document.removeEventListener(\"keypress\", on_key_press);\n          document.removeEventListener(\"keydown\", on_key_down);\n          my_resolve();\n        }\n      }\n      function on_key_down(event: KeyboardEvent) {\n        if (event.key === \"Escape\") {\n          document.removeEventListener(\"keypress\", on_key_press);\n          document.removeEventListener(\"keydown\", on_key_down);\n          no_abort = false;\n          my_resolve();\n        }\n      }\n      await delay_promise;\n    }\n\n    parentElement.removeChild(info_panel)\n\n    if (no_abort) {\n      parentElement.removeChild(bb_control_panel_div);\n      const brainbraille_stim = prepBrainBrailleStim(parentElement);\n      const stim_sequence = shuffle(STIM_PHASE_SET);\n\n      const default_stim_setting: StimTaskIntSetting = start_config.interval === \"3s\" ? BB_3s : BB_1s5;\n      const task_stim_setting: StimTaskIntSetting = {\n        expected_task_interval_s: parseFloat(start_config.interval.substring(0, start_config.interval.length - 1)),\n        expected_TR_s: parseFloat(start_config.TR.substring(0, start_config.TR.length - 2)) / 1000,\n        front_space_padding_s: default_stim_setting.front_space_padding_s,\n        back_space_padding_s: default_stim_setting.back_space_padding_s,\n        num_space_between_words: default_stim_setting.num_space_between_words,\n        num_space_between_sents: default_stim_setting.num_space_between_sents\n      }\n      const task_info = generateTaskUpdateSequence(stim_sequence, task_stim_setting);\n      if (start_config.mode === \"Practice\") {\n        await run_practice(stim_sequence, task_info, brainbraille_stim);\n      } else if (start_config.mode === \"Study\") {\n        await run_study(stim_sequence, task_info, brainbraille_stim);\n      }\n      parentElement.removeChild(brainbraille_stim.container_div);\n      parentElement.appendChild(bb_control_panel_div);\n    }\n    start_button.disabled = false;\n    start_button.style.backgroundColor = PRIMARY_COLOR;\n    closeFullscreen();\n  })\n\n  select_mode.addEventListener(\"change\", (event: Event) => {\n    if (event.target) {\n      if (\"value\" in event.target) {\n        if ((event.target.value === \"Study\") || (event.target.value === \"Practice\")) {\n          start_config.mode = event.target.value\n          onModeChange()\n        }\n      }\n    }\n    validate_start_config(start_config);\n    updateSearchURL(start_config);\n  })\n\n  select_interval.addEventListener(\"change\", (event: Event) => {\n    if (event.target) {\n      if (\"value\" in event.target) {\n        if ((event.target.value === \"3s\") || (event.target.value === \"1.5s\")) {\n          start_config.interval = event.target.value\n        }\n      }\n    }\n    validate_start_config(start_config);\n    updateSearchURL(start_config);\n  })\n\n  select_TR.addEventListener(\"change\", (event: Event) => {\n    if (event.target) {\n      if (\"value\" in event.target) {\n        if ((event.target.value === \"500ms\") || (event.target.value === \"750ms\")) {\n          start_config.TR = event.target.value\n        }\n      }\n    }\n    validate_start_config(start_config);\n    updateSearchURL(start_config);\n  })\n\n  function input_delay_s_update(event: Event) {\n    if (event.target) {\n      if (\"value\" in event.target) {\n        if (typeof event.target.value === \"number\") {\n          start_config.start_delay_s = event.target.value\n        } else if (typeof event.target.value === \"string\") {\n          start_config.start_delay_s = parseFloat(event.target.value)\n        }\n      }\n    }\n    validate_start_config(start_config);\n    input_delay_s.setAttribute(\"value\", start_config.start_delay_s.toString())\n    input_delay_s.value = start_config.start_delay_s.toString();\n    updateSearchURL(start_config);\n  }\n  input_delay_s.addEventListener(\"change\", input_delay_s_update)\n}", "import {\n  prepBrainBrailleStim,\n  BrainBrailleStim,\n  generateTaskUpdateSequence,\n  shuffle,\n  STIM_PHASE_SET,\n  BB_3s,\n  BB_1s5,\n  run_rask,\n  prepControlPanel,\n  getDefaultStartConfig,\n} from './configs_and_consts'\n\nimport {\n  StartConfig\n} from './interfaces'\n\n// const brainbraille_stim: BrainBrailleStim = prepBrainBrailleStim();\n// const stim_sequence = shuffle(STIM_PHASE_SET);\n// const task_info = generateTaskUpdateSequence(stim_sequence, BB_3s);\n// run_rask(stim_sequence, task_info, brainbraille_stim);\nconst params: URLSearchParams = new URLSearchParams(window.location.search);\n// console.log(params)\nlet start_config: StartConfig = getDefaultStartConfig();\nif (params.size === 3) {\n  switch (params.get(\"mode\")) {\n    case \"Practice\":\n      start_config.mode = \"Practice\"\n      break;\n    case \"Study\":\n      start_config.mode = \"Study\"\n      break;\n    default:\n  }\n\n  switch (params.get(\"interval\")) {\n    case \"3s\":\n      start_config.interval = \"3s\"\n      break;\n    case \"1.5s\":\n      start_config.interval = \"1.5s\"\n      break;\n    default:\n  }\n\n  switch (params.get(\"TR\")) {\n    case \"750ms\":\n      start_config.TR = \"750ms\"\n      break;\n    case \"500ms\":\n      start_config.TR = \"500ms\"\n      break;\n    case \"n/a\":\n      start_config.TR = \"N.A.\"\n    default:\n  }\n}\n\nprepControlPanel(start_config);\n\n/******************************************************************************\n * esbuild live-reload                                                        *\n ******************************************************************************/\nfunction location_reload() {\n  location.reload();\n  console.log('Page reloaded');\n}\nif (!(window as any).IS_PRODUCTION) {\n  console.log(\"IS NOT PRODUCTION\")\n  new EventSource('/esbuild').addEventListener('change', location_reload);\n}"],
  "mappings": "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",
  "names": ["start_config"]
}
